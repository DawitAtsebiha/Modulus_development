<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modulus - Engineering Education Platform</title>
    <link rel="stylesheet" href="/themodulus.ca/src/CSS/login_page.css" />
    <link rel="icon" href="/themodulus.ca/visuals/SVGs/mod-logo.svg">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <div class="form-container">
        <div class="logo-container">
          <img src="/themodulus.ca/visuals/SVGs/moduluswithlogo.svg" alt="Modulus Logo" class="logo" />
        </div>

        <div class="tabs">
          <button class="tab active" data-tab="login">Log In</button>
          <button class="tab" data-tab="signup">Sign Up</button>
        </div>

        <div class="form-wrapper">
          <!-- Login Form -->
          <form id="login-form" class="form active">
            <div class="form-header">
              <h1>Welcome back</h1>
              <p class="subtitle">
                Continue your engineering education journey
              </p>
            </div>

            <div class="social-logins">
              <button type="button" class="social-btn google">
                <i class="fab fa-google"></i>
                <span>Continue with Google</span>
              </button>
              <button type="button" class="social-btn apple">
                <i class="fab fa-apple"></i>
                <span>Continue with Apple</span>
              </button>
              <button type="button" class="social-btn linkedin full-width">
                <i class="fab fa-linkedin-in"></i>
                <span>Continue with LinkedIn</span>
              </button>
            </div>

            <div class="divider">
              <span>or</span>
            </div>

            <div class="form-group">
              <label for="login-email">Email</label>
              <input
                type="email"
                id="login-email"
                placeholder=""
                required
              />
            </div>

            <div class="form-group">
              <label for="login-password">Password</label>
              <div class="password-input">
                <input
                  type="password"
                  id="login-password"
                  placeholder=""
                  required
                />
                <button type="button" class="toggle-password">
                  <i class="far fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="form-options">
              <div class="remember-me">
                <input type="checkbox" id="remember" />
                <label for="remember">Remember me</label>
              </div>
              <a href="#" class="forgot-password">Forgot password?</a>
            </div>

            <button type="submit" class="submit-btn">Log In</button>
          </form>

          <!-- Multi-step Signup Form -->
          <form id="signup-form" class="form">
            <!-- Progress Indicator -->
            <div class="progress-container">
              <div class="progress-bar">
                <div class="progress-fill"></div>
              </div>
              <div class="progress-steps">
                <div class="step active">
                  <div class="step-number">1</div>
                  <span>Account</span>
                </div>
                <div class="step">
                  <div class="step-number">2</div>
                  <span>Personal</span>
                </div>
                <div class="step">
                  <div class="step-number">3</div>
                  <span>Education</span>
                </div>
              </div>
            </div>

            <!-- Step 1: Account Setup -->
            <div class="signup-step active" data-step="1">
              <div class="form-header">
                <h1>Join Modulus</h1>
                <p class="subtitle">Start your engineering education journey</p>
              </div>

              <div class="social-logins">
                <button type="button" class="social-btn google">
                  <i class="fab fa-google"></i>
                  <span>Sign up with Google</span>
                </button>
                <button type="button" class="social-btn apple">
                  <i class="fab fa-apple"></i>
                  <span>Sign up with Apple</span>
                </button>
                <button type="button" class="social-btn facebook">
                  <i class="fab fa-facebook-f"></i>
                  <span>Sign up with Facebook</span>
                </button>
                <button type="button" class="social-btn linkedin">
                  <i class="fab fa-linkedin-in"></i>
                  <span>Sign up with LinkedIn</span>
                </button>
              </div>

              <div class="divider">
                <span>or</span>
              </div>

              <div class="form-group">
                <label for="signup-email">Email</label>
                <input
                  type="email"
                  id="signup-email"
                  placeholder=""
                  required
                />
              </div>

              <div class="form-group">
                <label for="signup-password">Password</label>
                <div class="password-input">
                  <input
                    type="password"
                    id="signup-password"
                    placeholder=""
                    required
                  />
                  <button type="button" class="toggle-password">
                    <i class="far fa-eye"></i>
                  </button>
                </div>
                <div class="password-strength">
                  <div class="strength-meter">
                    <div class="strength-segment"></div>
                    <div class="strength-segment"></div>
                    <div class="strength-segment"></div>
                    <div class="strength-segment"></div>
                  </div>
                  <span class="strength-text">Password strength</span>
                </div>
              </div>

              <button type="button" class="next-btn">Next</button>
            </div>

            <!-- Step 2: Personal Information -->
            <div class="signup-step" data-step="2">
              <div class="form-header">
                <h1>Personal Information</h1>
                <p class="subtitle">Tell us a bit about yourself</p>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="firstName">First Name</label>
                  <input
                    type="text"
                    id="firstName"
                    placeholder="John"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="lastName">Last Name</label>
                  <input type="text" id="lastName" placeholder="Doe" required />
                </div>
              </div>

              <div class="form-group">
                <label for="dateOfBirth">Date of Birth</label>
                <input 
                type="date" 
                id="dateOfBirth"
                min="1950-01-01"
                max="2010-12-31"
                required />

                <span id="dobError" style="color:red;display:none;">
                  Please enter a valid date of birth.
                </span>

              <script>
                const dateInput = document.getElementById('dateOfBirth');
                const errorMsg  = document.getElementById('dobError');

                const nextButtons = document.querySelectorAll('.next-btn');
                function toggleNext(isValid) {
                  nextButtons.forEach(btn => (btn.disabled = !isValid));
                }

                dateInput.addEventListener('input', () => {
                  // If the field is blank, clear any previous error and stop.
                  if (!dateInput.value) {
                    errorMsg.style.display = 'none';
                    dateInput.setCustomValidity('');
                    toggleNext(false);
                    return;
                  }

                  // YYYY-MM-DD → split once and reuse.
                  const [year, month, day] = dateInput.value.split('-');

                  // 2. Separate, accurate checks
                  const validYear = /^(19[5-9]\d|200\d|2010)$/.test(year);    // 1950 - 2010
                  const validMonth = /^(0[1-9]|1[0-2])$/.test(month);         // 01–12
                  const validDay   = /^(0[1-9]|[12]\d|3[01])$/.test(day);     // 01–31

                  if (validYear && validMonth && validDay) {
                    errorMsg.style.display = 'none';
                    dateInput.setCustomValidity('');
                  } else {
                    errorMsg.style.display = 'inline';
                    dateInput.setCustomValidity('Please enter a valid date of birth.');
                    toggleNext(true);
                  }
                });   
              </script>

              </div>

              <div class="step-navigation">
                <button type="button" class="back-btn">Back</button>
                <button type="button" class="next-btn">Next</button>
              </div>
            </div>

            <!-- Step 3: Education Information -->
            <div class="signup-step" data-step="3">
              <div class="form-header">
                <h1>Education Status</h1>
                <p class="subtitle">Help us personalize your experience</p>
              </div>

              <div class="form-group">
                <label for="schoolStatus">Current Status</label>
                <select id="schoolStatus" required>
                  <option value="" disabled selected>
                    Select your current status
                  </option>
                  <option value="Secondary">
                    Secondary School (High School)
                  </option>
                  <option value="Post-Secondary">
                    Post-Secondary (University/College)
                  </option>
                  <option value="Out of School">Out of School</option>
                </select>
              </div>

              <div
                class="form-group"
                id="uni-affiliation-group"
                style="display: none"
              >
                <label for="uniAffiliation">University/College</label>
                <input
                  type="text"
                  id="uniAffiliation"
                  placeholder="e.g., University of Toronto"
                />
                <small class="form-hint">Leave blank if not applicable</small>
              </div>

              <div class="terms">
                <input type="checkbox" id="terms" required />
                <label for="terms"
                  >I agree to the <a href="#">Terms of Service</a> and
                  <a href="#">Privacy Policy</a></label
                >
              </div>

              <div class="step-navigation">
                <button type="button" class="back-btn">Back</button>
                <button type="submit" class="submit-btn">Create Account</button>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="info-container">
        <div class="info-content">
          <h2>Elevate Your Engineering Education</h2>
          <p>Interactive learning tools designed for transitioning students.</p>
          <div class="features">
            <div class="feature">
              <div class="feature-icon">
                <i class="fas fa-calculator"></i>
              </div>
              <div class="feature-text">
                <h3>Interactive Tools</h3>
                <p>Visualize complex concepts</p>
              </div>
            </div>
            <div class="feature">
              <div class="feature-icon">
                <i class="fas fa-chart-line"></i>
              </div>
              <div class="feature-text">
                <h3>Track Progress</h3>
                <p>Monitor your journey</p>
              </div>
            </div>
            <div class="feature">
              <div class="feature-icon">
                <i class="fas fa-users"></i>
              </div>
              <div class="feature-text">
                <h3>Community</h3>
                <p>Connect with peers</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/themodulus.ca/src/JS/login_page.js"></script>
  </body>
</html>
